<h4 page-title class="fw-bold mb-4">حجز موعد جديد</h4>

<div class="booking-page">

  <div class="booking-grid">

    <!-- تعليمات -->
    <aside class="booking-info">
      <h6>
        <i class="fas fa-info-circle"></i>
        تعليمات هامة
      </h6>

      <ul>
        <li>✔ يرجى الحضور قبل الموعد بـ 15 دقيقة.</li>
        <li>✔ إحضار الهوية الوطنية الأصلية.</li>
        <li>✔ طباعة تذكرة الموعد أو عرضها من الجوال.</li>
        <li>✔ في حال عدم الحضور سيتم إلغاء الموعد تلقائياً.</li>
      </ul>
    </aside>

    <!-- الفورم -->
    <section class="booking-card">

      <h5 class="fw-bold mb-4 border-bottom pb-3">تفاصيل الموعد</h5>

      <form>

        <div class="booking-row">
          <div>
            <label>نوع الهوية</label>
            <select>
              <option disabled selected>اختر نوع الهوية</option>
              <option>بطاقة شخصية</option>
              <option>جواز سفر</option>
            </select>
          </div>

          <div>
            <label>رقم المعاملة</label>
            <input type="text" placeholder="أدخل رقم المعاملة">
          </div>

          <div>
            <label>الفرع</label>
            <select>
              <option disabled selected>اختر الفرع</option>
              <option>المركز الرئيسي</option>
              <option>حي الروضة</option>
              <option>المدينة القديمة</option>
            </select>
          </div>
        </div>

        <div class="booking-block">
          <label>اختر التاريخ</label>
          <input type="date">
        </div>

        <div class="booking-block">
          <label>اختر الوقت المناسب</label>

          <div class="time-grid">
            <div
              class="time-slot"
              *ngFor="let t of times"
              [class.active]="selectedTime === t"
              (click)="selectTime(t)">
              {{ t }}
            </div>
          </div>
        </div>

        <div class="booking-block">
          <label>سبب الزيارة</label>
          <textarea rows="3" placeholder="اكتب وصفاً مختصراً..."></textarea>
        </div>

        <div class="booking-actions">
          <button
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#confirmModal">
            تأكيد الموعد
          </button>
        </div>

      </form>
    </section>

  </div>

  <!-- سجل المواعيد -->
  <section class="booking-card mt-4">
    <h5 class="fw-bold mb-3">سجل المواعيد المحجوزة</h5>

    <table class="booking-table">
      <thead>
        <tr>
          <th>رقم الموعد</th>
          <th>التاريخ</th>
          <th>الوقت</th>
          <th>الحالة</th>
          <th>الفرع</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>#APT-2544</td>
          <td>15/10/2023</td>
          <td>09:30 ص</td>
          <td><span class="badge pending">قادم</span></td>
          <td>المركز الرئيسي</td>
        </tr>
      </tbody>
    </table>
  </section>

</div>

<!-- MODAL -->
<div class="modal fade" id="confirmModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="fw-bold">تأكيد الحجز</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        <p class="text-muted">هل أنت متأكد من حجز الموعد؟</p>
        <div class="fw-bold text-primary">
          {{ selectedTime || 'لم يتم اختيار وقت' }}
        </div>
      </div>

      <div class="modal-footer border-0 justify-content-center">
        <button class="btn btn-light" data-bs-dismiss="modal">تراجع</button>
        <button class="btn btn-primary">تأكيد</button>
      </div>
    </div>
  </div>
</div>
